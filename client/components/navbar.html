<nav style="background-color: #333; padding: 15px; color: white; display: flex; justify-content: space-between; align-items: center;">
    <div class="nav-brand">
        <a href="all_promises.html" style="color: white; text-decoration: none; font-size: 1.2em; font-weight: bold;">Political Tracker</a>
    </div>
    <div class="nav-links">
        <a href="all_promises.html" style="color: #ddd; text-decoration: none; margin-right: 15px;">หน้ารวมคำสัญญา</a>
        <a href="politician_profile.html" style="color: #181818; text-decoration: none; margin-right: 15px;">หน้านักการเมือง</a>
        
        <a id="admin-link" href="add_update.html" style="color: #ff6b6b; text-decoration: none; margin-right: 15px; display: none;">[Admin] อัปเดตความคืบหน้า</a>
    </div>
    <div class="auth-section">
        <span id="user-display" style="margin-right: 10px;"></span>
        <button id="auth-btn" onclick="handleAuth()" style="padding: 5px 10px; cursor: pointer;">Login</button>
    </div>
</nav>

<script>
    // --- Mock Authentication Logic (View Controller) ---
    function checkAuth() {
        const role = localStorage.getItem('role');
        const username = localStorage.getItem('username');
        const adminLink = document.getElementById('admin-link');
        const authBtn = document.getElementById('auth-btn');
        const userDisplay = document.getElementById('user-display');

        if (role) {
            // กรณี Login แล้ว
            userDisplay.textContent = `สวัสดี, ${username} (${role})`;
            authBtn.textContent = 'Logout';
            
            // ถ้าเป็น Admin ให้โชว์ปุ่มลับ
            if (role === 'admin') {
                adminLink.style.display = 'inline';
            }
        } else {
            // กรณี Guest
            userDisplay.textContent = '';
            authBtn.textContent = 'Login';
            adminLink.style.display = 'none';
        }
    }

    function handleAuth() {
        const role = localStorage.getItem('role');
        if (role) {
            // ถ้า Login อยู่ ให้ Logout
            localStorage.clear();
            window.location.href = 'login.html';
        } else {
            // ถ้ายังไม่ Login ให้ไปหน้า Login
            window.location.href = 'login.html';
        }
    }

    // รันทุกครั้งที่โหลดหน้า
    checkAuth();
</script>